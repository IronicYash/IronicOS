# GRUB configuration for IronicOS
set timeout=5            # Seconds before default entry boots
set default=1            # Default menuentry index (0-based)

# Optional menu colors (may be ignored on some builds)
set menu_color_normal=white/black
set menu_color_highlight=black/light-gray

# Prefer gfx resolution then keep it for the kernel
insmod gfxterm
set gfxmode=1024x768
set gfxpayload=keep

# Enable serial console so GRUB and kernel output appears on -serial stdio
# (useful for QEMU -serial stdio)
serial --unit=0 --speed=115200
terminal_input serial
terminal_output serial

# Ensure essential modules available
insmod multiboot
insmod elf

menuentry "IronicOS" {
    multiboot /boot/kernel.elf
    boot
}

menuentry "IronicOS (Verbose Boot)" {
    multiboot /boot/kernel.elf v=1
    boot
}

menuentry "Reboot" {
    reboot
}

menuentry "Shutdown" {
    halt
}